<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RoosyCozy Beta | Project Essential Record</title>
  
  <link rel="stylesheet" href="beta.css" />
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Noto+Serif+KR:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /* 로그인 입력창 스타일 */
    #accessCode {
      text-align: center;
      font-weight: bold;
      font-size: 1.1rem;
      letter-spacing: 6px;
      height: 50px !important;
      padding: 0 !important;
    }
    #accessCode::placeholder {
      letter-spacing: 0px;
      font-size: 0.95rem;
      color: #bbb;
      font-weight: normal;
      line-height: 50px;
    }
    .input-group .btn-primary {
      height: 50px !important;
      padding: 0 24px !important;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* STEP 1 미션 박스 스타일 */
    #mission-box:hover {
        background: #fafafa;
    }
  </style>
</head>
<body>

  <section id="login-screen" class="full-screen-center">
    <div class="login-card">
      <div class="logo-area"><span class="logo-dot"></span> RoosyCozy Beta</div>
      <h1 class="login-title">Project<br>Essential Record</h1>
      <p class="login-desc">베타 액세스 코드를 입력해 주세요.</p>
      
      <div class="input-group">
        <input 
          type="text" 
          id="accessCode" 
          placeholder="PIN 번호 6자리 (예: 000000)" 
          maxlength="6" 
          inputmode="numeric" 
          autocomplete="off" 
        />
        <button onclick="attemptLogin()" class="btn-primary">입장하기</button>
      </div>
      <p id="login-msg" class="error-msg"></p>
    </div>
  </section>

  <main id="dashboard" style="display: none;">
    
    <header class="beta-header">
      <div class="container header-inner">
        <div class="user-info">
          <span class="user-badge">BETA TESTER</span>
          <strong id="user-id-display">RC-BETA-XXX</strong>
        </div>
        <div class="progress-area">
          <span>진행률</span>
          <div class="progress-track"><div class="progress-bar" id="progressBar" style="width: 0%;"></div></div>
          <span id="progress-text">0%</span>
        </div>
      </div>
    </header>

    <section id="intro-text" class="welcome-sec container">
      <h2 class="wc-title">기록의 본질에 집중하세요.</h2>
      <p class="wc-desc">반갑습니다, 선생님. 실제 앱 화면을 보며 아래 미션을 순서대로 수행해 주세요.<br><strong>정답을 맞춰야 다음 단계가 열립니다.</strong></p>
    </section>

    <section class="mission-track container">
      
      <div id="step1-card" class="mission-card active" style="text-align: center; padding: 40px 30px;"> <div style="color: #ff4f93; font-weight: 800; letter-spacing: 1px; margin-bottom: 10px;">STEP 01</div>
        <h2 style="font-size: 1.8rem; margin-bottom: 15px; color: #222; font-weight: 700;">가장 '본질적인' 기록법</h2>
        <p style="color: #666; margin-bottom: 30px; font-size: 1rem;">RoosyCozy는 선생님의 시간을 뺏지 않습니다.<br>지금 바로 설치해서 가벼움을 경험해 보세요.</p>

        <a href="RoosyCozy_Beta_Installer.zip" download class="download-btn" style="display: flex; align-items: center; justify-content: center; width: 100%; padding: 20px 0; background: #ff4f93; color: #fff; font-size: 1.2rem; font-weight: 700; border-radius: 12px; text-decoration: none; box-shadow: 0 8px 20px rgba(255, 79, 147, 0.3); transition: transform 0.2s; margin-bottom: 25px;">
            📥 RoosyCozy 베타 다운로드
        </a>

        <div id="mission-box" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #f9f9f9; border: 1px solid #eee; cursor: pointer; transition: all 0.3s; text-align: left; margin-bottom: 25px;" onclick="toggleMission()">
            
            <div style="display: flex; align-items: center; gap: 20px;"> <span style="font-size: 1.8rem;">🚀</span>
                <div>
                    <div style="font-size: 1.1rem; font-weight: 600; color: #333;">다운로드 후 실행하셨나요?</div>
                    <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">설치가 완료되면 이 박스를 클릭해 주세요.</div>
                </div>
            </div>

            <div id="custom-check" style="width: 24px; height: 24px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                <span id="check-icon" style="font-size: 0.9rem; color: #fff; display: none;">✔</span>
            </div>
        </div>

        <button id="btn-next-step1" disabled style="width: 100%; padding: 16px; background: #ccc; color: #fff; font-size: 1.1rem; font-weight: 700; border: none; border-radius: 50px; cursor: not-allowed; transition: 0.3s;" onclick="goToStep2()">
            다음 미션으로 이동 →
        </button>

      </div>

      <div id="mission-2-part1" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px; /* 다음 섹션과의 간격 */
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
      ">
        
        <div style="color: #ff4f93; font-weight: 800; letter-spacing: 1px; margin-bottom: 10px;">STEP 02</div>
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">AI 분석을 위한 '데이터' 준비</h3>
        
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            빈 화면에서는 AI가 작동하지 않습니다.<br>
            먼저 <strong>가상의 사건 데이터</strong>를 채워 넣어 볼까요?
        </p>
        
        <div style="
            margin-bottom: 40px; 
            border-radius: 20px; 
            overflow: hidden; 
            border: 1px solid #eee; 
            box-shadow: 0 15px 40px rgba(0,0,0,0.12); 
            position: relative; 
        ">
            <img src="step2_sample.png" alt="샘플 데이터 로드" style="width: 100%; display: block;">
            <div style="background: #f9f9f9; padding: 15px; font-size: 1rem; color: #555; border-top: 1px solid #eee;">
                👆 우측 상단 <strong>[초록색 펜 아이콘]</strong>을 찾아 클릭하세요.
            </div>
        </div>
          
        <div style="max-width: 600px; margin: 0 auto;">
            
            <div id="mission-box-2-1" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="togglePart1()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">💾</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">샘플 데이터를 불러오셨나요?</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭해서 다음 단계(타임라인)를 확인하세요.</div>
                    </div>
                </div>
                <div id="custom-check-2-1" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-2-1" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>

            <button onclick="goBackToStep1()" style="margin-top: 20px; padding: 10px 20px; background: #fff; color: #aaa; border: none; text-decoration: underline; cursor: pointer;">
                ← 처음으로 돌아가기
            </button>
        </div>

      </div>

      <div id="mission-2-part2" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee; /* 위 섹션과 구분선 */
      ">
        
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">
            데이터 불러오기 '확인'
        </h3>
        
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            화면에 팝업창이 떴나요?<br>
            기존 데이터를 덮어쓰고 새로운 샘플을 가져옵니다.
        </p>

        <div style="
            margin-bottom: 40px; 
            border-radius: 20px; 
            overflow: hidden; 
            border: 1px solid #eee; 
            box-shadow: 0 15px 40px rgba(0,0,0,0.12); 
            position: relative; 
        ">
            <img src="step2_confirm.png" alt="확인 팝업창" style="width: 100%; display: block;">
            
            <div style="background: #f9f9f9; padding: 15px; font-size: 1rem; color: #555; border-top: 1px solid #eee;">
                👆 파란색 <strong>[확인]</strong> 버튼을 눌러주세요.
            </div>
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-2-2" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="togglePart2()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">🆗</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">확인 버튼을 누르셨나요?</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 데이터가 로드됩니다.</div>
                    </div>
                </div>
                <div id="custom-check-2-2" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-2-2" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
        </div>
      </div>

      <div id="mission-2-part3" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 50px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">
            자료 가져오기 완료!
        </h3>
        
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            <strong>빨간 원</strong>으로 표시된 부분을 보시면 자료가 정상적으로 생성된 것을 보실 수 있습니다.
        </p>

        <div style="
            margin-bottom: 40px; 
            border-radius: 20px; 
            overflow: hidden; 
            border: 1px solid #eee; 
            box-shadow: 0 15px 40px rgba(0,0,0,0.12); 
            position: relative; 
        ">
            <img src="step2_result.png" alt="결과 화면" style="width: 100%; display: block;">
            
            <div style="background: #f9f9f9; padding: 15px; font-size: 1rem; color: #555; border-top: 1px solid #eee;">
                ✨ 샘플 데이터가 성공적으로 입력되었습니다.
            </div>
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-2-3" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="togglePart3()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">👀</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">자료가 생성된 걸 확인하셨나요?</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">확인했다면 체크하여 STEP 02를 완료하세요.</div>
                    </div>
                </div>
                <div id="custom-check-2-3" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-2-3" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>

            <div id="step2-btn-group" style="
                display: none; /* 처음엔 숨겨둠 (체크하면 나옴) */
                gap: 10px; 
                justify-content: center; 
                margin-top: 30px;
            ">
                <button onclick="goBackToStep1()" style="
                    padding: 16px 30px; 
                    background: #fff; 
                    color: #888; 
                    border: 1px solid #ddd; 
                    border-radius: 50px; 
                    font-size: 1.1rem; 
                    cursor: pointer; 
                    font-weight: 600;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
                ">
                    ← 이전
                </button>

                <button onclick="goToStep3()" style="
                    padding: 16px 50px; 
                    background: #222; 
                    color: #fff; 
                    border: none; 
                    border-radius: 50px; 
                    font-size: 1.1rem; 
                    cursor: pointer; 
                    font-weight: 700;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                ">
                    다음 단계로 이동 →
                </button>
            </div>
        </div>

      </div>

      <div id="mission-3-part1" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px; 
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
      ">
        <div style="color: #ff4f93; font-weight: 800; letter-spacing: 1px; margin-bottom: 10px;">STEP 03</div>
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 03: 첫 번째 미션</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 03의 첫 번째 과정입니다.<br>
            이미지를 보고 아래 내용을 따라 해주세요.
        </p>
        
        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_sample.png" alt="1번 미션 사진" style="width: 100%; display: block;">
        </div>
          
        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-3-1" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep3Part1()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">1️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">첫 번째 미션을 수행했나요?</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 다음 내용(Part 2)이 열립니다.</div>
                    </div>
                </div>
                <div id="custom-check-3-1" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-3-1" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
            <button onclick="goBackToStep2()" style="margin-top: 20px; padding: 10px 20px; background: #fff; color: #aaa; border: none; text-decoration: underline; cursor: pointer;">
                ← 이전 단계(STEP 02)로 돌아가기
            </button>
        </div>
      </div>

      <div id="mission-3-part2" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 03: 두 번째 미션</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 03의 두 번째 과정입니다.<br>
            화면을 확인하고 체크해주세요.
        </p>

        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_confirm.png" alt="2번 미션 사진" style="width: 100%; display: block;">
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-3-2" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep3Part2()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">2️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">두 번째 미션을 확인했나요?</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 다음 내용(Part 3)이 열립니다.</div>
                    </div>
                </div>
                <div id="custom-check-3-2" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-3-2" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
        </div>
      </div>

      <div id="mission-3-part3" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 50px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 03: 결과 확인</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 03의 마지막 단계입니다.<br>
            결과를 확인하고 다음 단계로 이동하세요.
        </p>

        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_result.png" alt="3번 결과 사진" style="width: 100%; display: block;">
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-3-3" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep3Part3()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">3️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">모든 내용을 확인하셨나요?</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">체크하여 STEP 03을 완료하세요.</div>
                    </div>
                </div>
                <div id="custom-check-3-3" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-3-3" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>

            <div id="step3-btn-group" style="display: none; gap: 10px; justify-content: center; margin-top: 30px;">
                <button onclick="goBackToStep2()" style="padding: 16px 30px; background: #fff; color: #888; border: 1px solid #ddd; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: 600;">
                    ← 이전
                </button>
                <button onclick="goToStep4()" style="padding: 16px 50px; background: #222; color: #fff; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: 700; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
                    다음 단계로 이동 →
                </button>
            </div>
        </div>
      </div>

      <div id="mission-4-part1" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px; 
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
      ">
        <div style="color: #ff4f93; font-weight: 800; letter-spacing: 1px; margin-bottom: 10px;">STEP 04</div>
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 04: 첫 번째 미션</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 04의 첫 번째 과정입니다.<br>
            아래 내용을 확인하고 체크해 주세요.
        </p>
        
        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_sample.png" alt="STEP 04-1 이미지" style="width: 100%; display: block;">
        </div>
          
        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-4-1" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep4Part1()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">1️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">STEP 04-1 확인 완료</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 다음 내용(Part 2)이 열립니다.</div>
                    </div>
                </div>
                <div id="custom-check-4-1" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-4-1" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
            
            <button onclick="goBackToStep3()" style="margin-top: 20px; padding: 10px 20px; background: #fff; color: #aaa; border: none; text-decoration: underline; cursor: pointer;">
                ← 이전 단계(STEP 03)로 돌아가기
            </button>
        </div>
      </div>

      <div id="mission-4-part2" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 04: 두 번째 미션</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 04의 두 번째 과정입니다.
        </p>

        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_confirm.png" alt="STEP 04-2 이미지" style="width: 100%; display: block;">
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-4-2" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep4Part2()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">2️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">STEP 04-2 확인 완료</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 다음 내용(Part 3)이 열립니다.</div>
                    </div>
                </div>
                <div id="custom-check-4-2" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-4-2" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
        </div>
      </div>

      <div id="mission-4-part3" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 50px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 04: 결과 확인</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 04의 마지막 단계입니다.
        </p>

        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_result.png" alt="STEP 04-3 이미지" style="width: 100%; display: block;">
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-4-3" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep4Part3()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">3️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">모든 내용을 확인하셨나요?</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">체크하여 STEP 04를 완료하세요.</div>
                    </div>
                </div>
                <div id="custom-check-4-3" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-4-3" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>

            <div id="step4-btn-group" style="display: none; gap: 10px; justify-content: center; margin-top: 30px;">
                <button onclick="goBackToStep3()" style="padding: 16px 30px; background: #fff; color: #888; border: 1px solid #ddd; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: 600;">
                    ← 이전
                </button>
                <button onclick="goToStep5()" style="padding: 16px 50px; background: #222; color: #fff; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: 700; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
                    다음 단계로 이동 →
                </button>
            </div>
        </div>
      </div>

      <div id="mission-5-part1" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px; 
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
      ">
        <div style="color: #ff4f93; font-weight: 800; letter-spacing: 1px; margin-bottom: 10px;">STEP 05</div>
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 05: 첫 번째 미션</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 05의 첫 번째 과정입니다.<br>
            아래 내용을 확인하고 체크해 주세요.
        </p>
        
        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_sample.png" alt="STEP 05-1 이미지" style="width: 100%; display: block;">
        </div>
          
        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-5-1" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep5Part1()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">1️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">STEP 05-1 확인 완료</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 다음 내용(Part 2)이 열립니다.</div>
                    </div>
                </div>
                <div id="custom-check-5-1" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-5-1" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
            
            <button onclick="goBackToStep4()" style="margin-top: 20px; padding: 10px 20px; background: #fff; color: #aaa; border: none; text-decoration: underline; cursor: pointer;">
                ← 이전 단계(STEP 04)로 돌아가기
            </button>
        </div>
      </div>

      <div id="mission-5-part2" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 05: 두 번째 미션</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 05의 두 번째 과정입니다.
        </p>

        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_confirm.png" alt="STEP 05-2 이미지" style="width: 100%; display: block;">
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-5-2" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep5Part2()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">2️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">STEP 05-2 확인 완료</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 다음 내용(Part 3)이 열립니다.</div>
                    </div>
                </div>
                <div id="custom-check-5-2" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-5-2" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
        </div>
      </div>

      <div id="mission-5-part3" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 50px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 05: 결과 확인</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 05의 마지막 단계입니다.
        </p>

        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_result.png" alt="STEP 05-3 이미지" style="width: 100%; display: block;">
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-5-3" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep5Part3()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">3️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">모든 내용을 확인하셨나요?</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">체크하여 STEP 05를 완료하세요.</div>
                    </div>
                </div>
                <div id="custom-check-5-3" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-5-3" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>

            <div id="step5-btn-group" style="display: none; gap: 10px; justify-content: center; margin-top: 30px;">
                <button onclick="goBackToStep4()" style="padding: 16px 30px; background: #fff; color: #888; border: 1px solid #ddd; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: 600;">
                    ← 이전
                </button>
                <button onclick="goToStep6()" style="padding: 16px 50px; background: #222; color: #fff; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: 700; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
                    다음 단계로 이동 →
                </button>
            </div>
        </div>
      </div>

      <div id="mission-6-part1" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px; 
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
      ">
        <div style="color: #ff4f93; font-weight: 800; letter-spacing: 1px; margin-bottom: 10px;">STEP 06</div>
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 06: 첫 번째 미션</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 06의 첫 번째 과정입니다.<br>
            아래 내용을 확인하고 체크해 주세요.
        </p>
        
        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_sample.png" alt="STEP 06-1 이미지" style="width: 100%; display: block;">
        </div>
          
        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-6-1" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep6Part1()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">1️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">STEP 06-1 확인 완료</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 다음 내용(Part 2)이 열립니다.</div>
                    </div>
                </div>
                <div id="custom-check-6-1" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-6-1" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
            
            <button onclick="goBackToStep5()" style="margin-top: 20px; padding: 10px 20px; background: #fff; color: #aaa; border: none; text-decoration: underline; cursor: pointer;">
                ← 이전 단계(STEP 05)로 돌아가기
            </button>
        </div>
      </div>

      <div id="mission-6-part2" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 06: 두 번째 미션</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 06의 두 번째 과정입니다.
        </p>

        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_confirm.png" alt="STEP 06-2 이미지" style="width: 100%; display: block;">
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-6-2" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep6Part2()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">2️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">STEP 06-2 확인 완료</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 다음 내용(Part 3)이 열립니다.</div>
                    </div>
                </div>
                <div id="custom-check-6-2" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-6-2" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
        </div>
      </div>

      <div id="mission-6-part3" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 50px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 06: 결과 확인</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 06의 마지막 단계입니다.
        </p>

        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_result.png" alt="STEP 06-3 이미지" style="width: 100%; display: block;">
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-6-3" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep6Part3()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">3️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">모든 내용을 확인하셨나요?</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">체크하여 STEP 06을 완료하세요.</div>
                    </div>
                </div>
                <div id="custom-check-6-3" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-6-3" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>

            <div id="step6-btn-group" style="display: none; gap: 10px; justify-content: center; margin-top: 30px;">
                <button onclick="goBackToStep5()" style="padding: 16px 30px; background: #fff; color: #888; border: 1px solid #ddd; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: 600;">
                    ← 이전
                </button>
                <button onclick="goToStep7()" style="padding: 16px 50px; background: #222; color: #fff; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: 700; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
                    다음 단계로 이동 →
                </button>
            </div>
        </div>
      </div>

      <div id="mission-7-part1" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px; 
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
      ">
        <div style="color: #ff4f93; font-weight: 800; letter-spacing: 1px; margin-bottom: 10px;">STEP 07</div>
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 07: 첫 번째 미션</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 07의 첫 번째 과정입니다.<br>
            아래 내용을 확인하고 체크해 주세요.
        </p>
        
        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_sample.png" alt="STEP 07-1 이미지" style="width: 100%; display: block;">
        </div>
          
        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-7-1" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep7Part1()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">1️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">STEP 07-1 확인 완료</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 다음 내용(Part 2)이 열립니다.</div>
                    </div>
                </div>
                <div id="custom-check-7-1" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-7-1" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
            
            <button onclick="goBackToStep6()" style="margin-top: 20px; padding: 10px 20px; background: #fff; color: #aaa; border: none; text-decoration: underline; cursor: pointer;">
                ← 이전 단계(STEP 06)로 돌아가기
            </button>
        </div>
      </div>

      <div id="mission-7-part2" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 30px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 07: 두 번째 미션</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 07의 두 번째 과정입니다.
        </p>

        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_confirm.png" alt="STEP 07-2 이미지" style="width: 100%; display: block;">
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-7-2" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep7Part2()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">2️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">STEP 07-2 확인 완료</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">클릭하면 다음 내용(Part 3)이 열립니다.</div>
                    </div>
                </div>
                <div id="custom-check-7-2" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-7-2" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>
        </div>
      </div>

      <div id="mission-7-part3" class="mission-card" style="
          display: none; 
          text-align: center; 
          padding: 20px 40px 60px 40px; 
          width: 95vw; 
          max-width: 900px; 
          margin: 0 auto;
          margin-bottom: 50px;
          position: relative; 
          left: 50%; 
          transform: translateX(-50%);
          border-top: 1px solid #eee;
      ">
        <h3 style="font-size: 2rem; margin-bottom: 15px; color: #222; font-weight: 700;">STEP 07: 결과 확인</h3>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1rem;">
            STEP 07의 마지막 단계입니다.
        </p>

        <div style="margin-bottom: 40px; border-radius: 20px; overflow: hidden; border: 1px solid #eee; box-shadow: 0 15px 40px rgba(0,0,0,0.12);">
            <img src="step2_result.png" alt="STEP 07-3 이미지" style="width: 100%; display: block;">
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div id="mission-box-7-3" class="guide-item" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #e0e0e0; cursor: pointer; transition: all 0.3s; text-align: left;" onclick="toggleStep7Part3()">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span style="font-size: 1.8rem;">3️⃣</span>
                    <div>
                        <div style="font-size: 1.1rem; font-weight: 600; color: #333;">모든 내용을 확인하셨나요?</div>
                        <div style="font-size: 0.9rem; color: #888; margin-top: 4px;">체크하여 STEP 07을 완료하세요.</div>
                    </div>
                </div>
                <div id="custom-check-7-3" style="width: 28px; height: 28px; border-radius: 6px; background: #eee; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                    <span id="check-icon-7-3" style="font-size: 1rem; color: #fff; display: none;">✔</span>
                </div>
            </div>

            <div id="step7-btn-group" style="display: none; gap: 10px; justify-content: center; margin-top: 30px;">
                <button onclick="goBackToStep6()" style="padding: 16px 30px; background: #fff; color: #888; border: 1px solid #ddd; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: 600;">
                    ← 이전
                </button>
                <button onclick="goToFinal()" style="padding: 16px 50px; background: #222; color: #fff; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; font-weight: 700; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
                    모든 미션 완료! 🎉
                </button>
            </div>
        </div>
      </div>

      <div style="text-align: center; margin-top: 50px;">
        <button onclick="resetProgress()" style="color:#aaa; background:none; border:none; text-decoration:underline; cursor:pointer; font-size:0.8rem;">[테스트용] 진행 상황 초기화</button>
      </div>

    </section>

    <div id="survey-modal" class="modal-overlay" style="display: none;">
      <div class="modal-card survey-card">
        <div class="modal-header">
          <h3>수고하셨습니다, 선생님! 🎉</h3>
          <button onclick="closeSurveyModal()" class="btn-close">✕</button>
        </div>
        <div class="survey-body">
          <div class="survey-section">
            <p class="survey-intro">오늘 훈련이 선생님의 막연한 불안감을 조금이라도 덜어드렸기를 바랍니다.</p>
            <label class="survey-label">Q1. RoosyCozy를 써보시니 마음이 좀 편안해지셨나요?</label>
            <textarea id="q1-text"></textarea> 
          </div>
          <div class="survey-section">
            <label class="survey-label">Q2. "이거 하나 때문이라도 쓴다!" 싶은 최고의 기능은?</label>
            <div class="feature-select-group">
              <label class="feature-card"><input type="radio" name="q2_feature" value="record" checked><span class="f-text">⚡ 3초 컷! 초간편 기록</span></label>
              <label class="feature-card"><input type="radio" name="q2_feature" value="ai"><span class="f-text">🧠 맥락을 잇는 AI 타임라인</span></label>
              <label class="feature-card"><input type="radio" name="q2_feature" value="pdf"><span class="f-text">📄 교육청 제출용 PDF 자동 생성</span></label>
              <label class="feature-card"><input type="radio" name="q2_feature" value="guide"><span class="f-text">💬 감정 쏙 뺀 '톤앤매너 가이드'</span></label>
            </div>
          </div>
          <div class="survey-section">
            <label class="survey-label">Q3. 더 완벽한 방어막을 위해 바라는 점을 알려주세요.</label>
            <textarea id="q3-text"></textarea>
          </div>
          <button onclick="submitSurvey()" id="btn-submit-survey" class="btn-primary full-width" style="display: flex; align-items: center; justify-content: center; gap: 8px; margin-top:10px;">
            피드백 제출하고 인증 완료하기
          </button>
        </div>
      </div>
    </div>

    <div id="congrats-modal" class="modal-overlay" style="display: none;">
      <div class="modal-card">
        <div class="modal-icon">🎉</div>
        <h2>축하합니다!</h2>
        <p><strong>Project Essential Record</strong>를 완주하셨습니다.<br>이제 선생님의 기록은 가장 안전하게 보호됩니다.</p>
        <button onclick="closeModal()" class="btn-primary">닫기</button>
      </div>
    </div>
  </main>

  <script>
    // ================= [1. 기본 설정] =================
    const STORAGE_KEY = 'roosy_final_v1';
    const validCodes = ['000000', '123456', '111111'];
    let currentUser = null;
    let currentStep = 1;

    // 초기 로드
    window.onload = function() {
      const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));
      if (savedData && validCodes.includes(savedData.user)) {
        currentUser = savedData.user;
        loginSuccess(currentUser);
        // 저장된 단계로 복구하는 로직은 복잡해질 수 있어 생략 (항상 1단계 or 저장된 단계부터 시작)
        // restoreProgress(savedData.step); 
      }
    };

    // 로그인 기능
    function attemptLogin() {
      const input = document.getElementById('accessCode');
      const code = input.value.trim();
      if (validCodes.includes(code)) {
        currentUser = code;
        saveData();
        loginSuccess(code);
      } else {
        const msg = document.getElementById('login-msg');
        msg.innerText = "유효하지 않은 PIN 번호입니다.";
      }
    }

    function loginSuccess(userId) {
      document.getElementById('login-screen').style.display = 'none';
      document.getElementById('dashboard').style.display = 'block';
      document.getElementById('user-id-display').innerText = userId;
    }

    function saveData() {
      if(!currentUser) return;
      localStorage.setItem(STORAGE_KEY, JSON.stringify({ user: currentUser, step: currentStep }));
    }

    // 진행률 바 업데이트
    function updateProgressBar(percent) {
        document.getElementById('progressBar').style.width = `${percent}%`;
        document.getElementById('progress-text').innerText = `${percent}%`;
    }

    // ================= [2. 페이지 전환 (버튼용)] =================
    
    // STEP 1 -> 2
    function goToStep2() {
        document.getElementById('step1-card').style.display = 'none';
        document.getElementById('intro-text').style.display = 'none';
        document.getElementById('mission-2-part1').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(15);
    }
    function goBackToStep1() {
        document.getElementById('mission-2-part1').style.display = 'none';
        document.getElementById('intro-text').style.display = 'block';
        document.getElementById('step1-card').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(0);
    }

    // STEP 2 -> 3
    function goToStep3() {
        document.getElementById('mission-2-part1').style.display = 'none';
        document.getElementById('mission-2-part2').style.display = 'none';
        document.getElementById('mission-2-part3').style.display = 'none';
        document.getElementById('mission-3-part1').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(30);
    }
    function goBackToStep2() {
        document.getElementById('mission-3-part1').style.display = 'none';
        document.getElementById('mission-2-part3').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(15);
    }

    // STEP 3 -> 4
    function goToStep4() {
        document.getElementById('mission-3-part1').style.display = 'none';
        document.getElementById('mission-3-part2').style.display = 'none';
        document.getElementById('mission-3-part3').style.display = 'none';
        document.getElementById('mission-4-part1').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(45);
    }
    function goBackToStep3() {
        document.getElementById('mission-4-part1').style.display = 'none';
        document.getElementById('mission-3-part3').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(30);
    }

    // STEP 4 -> 5
    function goToStep5() {
        document.getElementById('mission-4-part1').style.display = 'none';
        document.getElementById('mission-4-part2').style.display = 'none';
        document.getElementById('mission-4-part3').style.display = 'none';
        document.getElementById('mission-5-part1').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(60);
    }
    function goBackToStep4() {
        document.getElementById('mission-5-part1').style.display = 'none';
        document.getElementById('mission-4-part3').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(45);
    }

    // STEP 5 -> 6
    function goToStep6() {
        document.getElementById('mission-5-part1').style.display = 'none';
        document.getElementById('mission-5-part2').style.display = 'none';
        document.getElementById('mission-5-part3').style.display = 'none';
        document.getElementById('mission-6-part1').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(75);
    }
    function goBackToStep5() {
        document.getElementById('mission-6-part1').style.display = 'none';
        document.getElementById('mission-5-part3').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(60);
    }

    // STEP 6 -> 7
    function goToStep7() {
        document.getElementById('mission-6-part1').style.display = 'none';
        document.getElementById('mission-6-part2').style.display = 'none';
        document.getElementById('mission-6-part3').style.display = 'none';
        document.getElementById('mission-7-part1').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(90);
    }
    function goBackToStep6() {
        document.getElementById('mission-7-part1').style.display = 'none';
        document.getElementById('mission-6-part3').style.display = 'block';
        window.scrollTo(0, 0);
        updateProgressBar(75);
    }

    // FINAL
    function goToFinal() {
        document.getElementById('mission-7-part1').style.display = 'none';
        document.getElementById('mission-7-part2').style.display = 'none';
        document.getElementById('mission-7-part3').style.display = 'none';
        
        updateProgressBar(100);
        alert("🎉 모든 미션 완료! 축하합니다.");
    }


    // ================= [3. 체크박스 기능 (핵심!)] =================
    // 여기서 체크박스를 누르면 다음 섹션이 열립니다.

    // [STEP 1]
    let isStep1Checked = false;
    function toggleMission() {
        isStep1Checked = !isStep1Checked;
        const box = document.getElementById('mission-box');
        const check = document.getElementById('custom-check');
        const icon = document.getElementById('check-icon');
        const btn = document.getElementById('btn-next-step1');

        if (isStep1Checked) {
            box.style.border = "2px solid #ff4f93"; box.style.background = "#fff0f6";
            check.style.background = "#ff4f93"; icon.style.display = "block";
            btn.disabled = false; btn.style.background = "#222"; btn.style.cursor = "pointer";
        } else {
            box.style.border = "1px solid #e0e0e0"; box.style.background = "#fff";
            check.style.background = "#eee"; icon.style.display = "none";
            btn.disabled = true; btn.style.background = "#ccc"; btn.style.cursor = "not-allowed";
        }
    }

    // [STEP 2]
    let isPart1Checked = false;
    function togglePart1() {
        isPart1Checked = !isPart1Checked;
        setCheckUI('mission-box-2-1', 'custom-check-2-1', 'check-icon-2-1', isPart1Checked);
        const next = document.getElementById('mission-2-part2');
        if(isPart1Checked) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let isPart2Checked = false;
    function togglePart2() {
        isPart2Checked = !isPart2Checked;
        setCheckUI('mission-box-2-2', 'custom-check-2-2', 'check-icon-2-2', isPart2Checked);
        const next = document.getElementById('mission-2-part3');
        if(isPart2Checked) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let isPart3Checked = false;
    function togglePart3() {
        isPart3Checked = !isPart3Checked;
        setCheckUI('mission-box-2-3', 'custom-check-2-3', 'check-icon-2-3', isPart3Checked);
        const next = document.getElementById('step2-btn-group');
        if(isPart3Checked) { next.style.display = 'flex'; next.scrollIntoView({behavior:'smooth', block:'center'}); } 
        else { next.style.display = 'none'; }
    }

    // [STEP 3]
    let s3p1 = false;
    function toggleStep3Part1() {
        s3p1 = !s3p1;
        setCheckUI('mission-box-3-1', 'custom-check-3-1', 'check-icon-3-1', s3p1);
        const next = document.getElementById('mission-3-part2');
        if(s3p1) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let s3p2 = false;
    function toggleStep3Part2() {
        s3p2 = !s3p2;
        setCheckUI('mission-box-3-2', 'custom-check-3-2', 'check-icon-3-2', s3p2);
        const next = document.getElementById('mission-3-part3');
        if(s3p2) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let s3p3 = false;
    function toggleStep3Part3() {
        s3p3 = !s3p3;
        setCheckUI('mission-box-3-3', 'custom-check-3-3', 'check-icon-3-3', s3p3);
        const next = document.getElementById('step3-btn-group');
        if(s3p3) { next.style.display = 'flex'; next.scrollIntoView({behavior:'smooth', block:'center'}); } 
        else { next.style.display = 'none'; }
    }

    // [STEP 4]
    let s4p1 = false;
    function toggleStep4Part1() {
        s4p1 = !s4p1;
        setCheckUI('mission-box-4-1', 'custom-check-4-1', 'check-icon-4-1', s4p1);
        const next = document.getElementById('mission-4-part2');
        if(s4p1) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let s4p2 = false;
    function toggleStep4Part2() {
        s4p2 = !s4p2;
        setCheckUI('mission-box-4-2', 'custom-check-4-2', 'check-icon-4-2', s4p2);
        const next = document.getElementById('mission-4-part3');
        if(s4p2) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let s4p3 = false;
    function toggleStep4Part3() {
        s4p3 = !s4p3;
        setCheckUI('mission-box-4-3', 'custom-check-4-3', 'check-icon-4-3', s4p3);
        const next = document.getElementById('step4-btn-group');
        if(s4p3) { next.style.display = 'flex'; next.scrollIntoView({behavior:'smooth', block:'center'}); } 
        else { next.style.display = 'none'; }
    }

    // [STEP 5]
    let s5p1 = false;
    function toggleStep5Part1() {
        s5p1 = !s5p1;
        setCheckUI('mission-box-5-1', 'custom-check-5-1', 'check-icon-5-1', s5p1);
        const next = document.getElementById('mission-5-part2');
        if(s5p1) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let s5p2 = false;
    function toggleStep5Part2() {
        s5p2 = !s5p2;
        setCheckUI('mission-box-5-2', 'custom-check-5-2', 'check-icon-5-2', s5p2);
        const next = document.getElementById('mission-5-part3');
        if(s5p2) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let s5p3 = false;
    function toggleStep5Part3() {
        s5p3 = !s5p3;
        setCheckUI('mission-box-5-3', 'custom-check-5-3', 'check-icon-5-3', s5p3);
        const next = document.getElementById('step5-btn-group');
        if(s5p3) { next.style.display = 'flex'; next.scrollIntoView({behavior:'smooth', block:'center'}); } 
        else { next.style.display = 'none'; }
    }

    // [STEP 6]
    let s6p1 = false;
    function toggleStep6Part1() {
        s6p1 = !s6p1;
        setCheckUI('mission-box-6-1', 'custom-check-6-1', 'check-icon-6-1', s6p1);
        const next = document.getElementById('mission-6-part2');
        if(s6p1) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let s6p2 = false;
    function toggleStep6Part2() {
        s6p2 = !s6p2;
        setCheckUI('mission-box-6-2', 'custom-check-6-2', 'check-icon-6-2', s6p2);
        const next = document.getElementById('mission-6-part3');
        if(s6p2) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let s6p3 = false;
    function toggleStep6Part3() {
        s6p3 = !s6p3;
        setCheckUI('mission-box-6-3', 'custom-check-6-3', 'check-icon-6-3', s6p3);
        const next = document.getElementById('step6-btn-group');
        if(s6p3) { next.style.display = 'flex'; next.scrollIntoView({behavior:'smooth', block:'center'}); } 
        else { next.style.display = 'none'; }
    }

    // [STEP 7]
    let s7p1 = false;
    function toggleStep7Part1() {
        s7p1 = !s7p1;
        setCheckUI('mission-box-7-1', 'custom-check-7-1', 'check-icon-7-1', s7p1);
        const next = document.getElementById('mission-7-part2');
        if(s7p1) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let s7p2 = false;
    function toggleStep7Part2() {
        s7p2 = !s7p2;
        setCheckUI('mission-box-7-2', 'custom-check-7-2', 'check-icon-7-2', s7p2);
        const next = document.getElementById('mission-7-part3');
        if(s7p2) { next.style.display = 'block'; next.scrollIntoView({behavior:'smooth', block:'nearest'}); } 
        else { next.style.display = 'none'; }
    }
    let s7p3 = false;
    function toggleStep7Part3() {
        s7p3 = !s7p3;
        setCheckUI('mission-box-7-3', 'custom-check-7-3', 'check-icon-7-3', s7p3);
        const next = document.getElementById('step7-btn-group');
        if(s7p3) { next.style.display = 'flex'; next.scrollIntoView({behavior:'smooth', block:'center'}); } 
        else { next.style.display = 'none'; }
    }


    // [Helper] 체크박스 디자인 변경 함수
    function setCheckUI(boxId, checkId, iconId, isChecked) {
        const box = document.getElementById(boxId);
        const check = document.getElementById(checkId);
        const icon = document.getElementById(iconId);
        
        if (isChecked) {
            box.style.border = "2px solid #ff4f93"; 
            box.style.background = "#fff0f6";
            check.style.background = "#ff4f93"; 
            check.style.borderColor = "#ff4f93";
            icon.style.display = "block";
        } else {
            box.style.border = "1px solid #e0e0e0"; 
            box.style.background = "#fff";
            check.style.background = "#eee"; 
            check.style.borderColor = "#ddd";
            icon.style.display = "none";
        }
    }
    // ================= [FINAL] 최종 완료 및 설문조사 =================

    // 1. STEP 7에서 버튼 누르면 실행되는 함수 (수정됨)
    function goToFinal() {
        // STEP 7 화면 숨기기
        document.getElementById('mission-7-part1').style.display = 'none';
        document.getElementById('mission-7-part2').style.display = 'none';
        document.getElementById('mission-7-part3').style.display = 'none';
        
        // 진행률 100% 채우기
        updateProgressBar(100);

        // ★ 경고창 대신 '모달창' 띄우기!
        document.getElementById('survey-modal').style.display = 'flex';
    }

    // 2. 모달창 닫기 함수
    function closeSurveyModal() {
        document.getElementById('survey-modal').style.display = 'none';
    }

    // 3. 설문조사 제출 함수 (Google Sheet 전송 기능 포함)
    function submitSurvey() {
        const btn = document.getElementById('btn-submit-survey');
        const q1 = document.getElementById('q1-text').value;
        const q2 = document.querySelector('input[name="q2_difficulty"]:checked')?.value || "선택안함";
        const q3 = document.getElementById('q3-text').value;

        // 버튼 비활성화 (중복 클릭 방지)
        btn.disabled = true;
        btn.innerText = "전송 중...";

        // 구글 시트로 데이터 전송 (이전에 쓰던 URL 사용)
        // 만약 URL이 없다면 아래 fetch 부분은 지우고 alert만 남기셔도 됩니다.
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzgDDADz5V_PEeVBSpw0gsGbNNIJp_h21rQuR_M6kKYRhn8wSYICadneZOFLhz001WV3A/exec"; 

        fetch(SCRIPT_URL, {
            method: "POST",
            mode: "no-cors",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                user: currentUser || "Unknown", // 로그인한 사용자 ID
                q1: q1,
                q2: q2,
                q3: q3
            })
        })
        .then(() => {
            alert("소중한 의견 감사합니다! 모든 과정이 완료되었습니다. 🙇‍♂️");
            closeSurveyModal();
            // 여기서 초기 화면으로 돌리거나, '수고하셨습니다' 화면을 보여줄 수 있습니다.
            location.reload(); // (임시) 새로고침하여 처음으로
        })
        .catch(err => {
            console.error('Error:', err);
            alert("전송에 실패했습니다. 하지만 완료 처리해 드릴게요!");
            closeSurveyModal();
            location.reload();
        });
    }
</script>
<div id="survey-modal" style="
      display: none; /* 평소엔 숨김 */
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.5); /* 반투명 검은 배경 */
      z-index: 9999;
      align-items: center; justify-content: center;
      backdrop-filter: blur(5px);
  ">
    <div style="
        background: #fff; width: 90%; max-width: 500px;
        padding: 30px; border-radius: 20px;
        box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        text-align: left; position: relative;
        animation: slideUp 0.4s ease-out;
    ">
        <button onclick="closeSurveyModal()" style="
            position: absolute; top: 15px; right: 15px;
            background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #999;
        ">×</button>

        <h3 style="margin-bottom: 10px; font-size: 1.5rem; color: #222;">🎉 미션 완료!</h3>
        <p style="color: #666; margin-bottom: 25px; font-size: 0.95rem;">
            축하합니다. 모든 베타 테스트 과정을 마치셨습니다.<br>
            서비스 발전을 위해 짧은 의견을 남겨주세요.
        </p>

        <div style="margin-bottom: 20px;">
            <label style="display: block; font-weight: 700; margin-bottom: 8px; color: #444;">1. 가장 유용했던 기능은?</label>
            <input type="text" id="q1-text" placeholder="예: 타임라인 정리, PDF 저장 등" style="
                width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem;
            ">
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; font-weight: 700; margin-bottom: 8px; color: #444;">2. 사용 난이도는 어떠셨나요?</label>
            <div style="display: flex; gap: 10px;">
                <label style="cursor: pointer;"><input type="radio" name="q2_difficulty" value="쉬움"> 쉬움</label>
                <label style="cursor: pointer;"><input type="radio" name="q2_difficulty" value="보통"> 보통</label>
                <label style="cursor: pointer;"><input type="radio" name="q2_difficulty" value="어려움"> 어려움</label>
            </div>
        </div>

        <div style="margin-bottom: 30px;">
            <label style="display: block; font-weight: 700; margin-bottom: 8px; color: #444;">3. 하고 싶은 말씀 (자유)</label>
            <textarea id="q3-text" placeholder="버그 제보나 바라는 점을 적어주세요." style="
                width: 100%; height: 80px; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; resize: none;
            "></textarea>
        </div>

        <button id="btn-submit-survey" onclick="submitSurvey()" style="
            width: 100%; padding: 16px; background: #222; color: #fff;
            border: none; border-radius: 12px; font-size: 1.1rem; font-weight: 700; cursor: pointer; transition: 0.3s;
        ">
            의견 보내고 최종 완료하기 🚀
        </button>
    </div>
  </div>

  <style>
      @keyframes slideUp {
          from { transform: translateY(50px); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
      }
  </style>
</body>
</html>